/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/js/main.js":
/*!***************************!*\
  !*** ./assets/js/main.js ***!
  \***************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\njQuery(function ($) {\r\n  'use strict';\r\n\r\n  // Слайдеры\r\n  var $main_slider = $('.main-slider');\r\n  var $preaching_slider = $('.preaching-slider');\r\n  var $preaching_sliderMain = $('.preaching-slider-main');\r\n\r\n  if ($main_slider.length) {\r\n    $main_slider.slick({\r\n      arrows: false,\r\n      dots: true,\r\n      fade: true,\r\n      autoplay: true,\r\n      autoplaySpeed: 3000,\r\n      speed: 2500,\r\n    });\r\n  }\r\n\r\n  if ($preaching_slider.length) {\r\n    $preaching_slider.slick({\r\n      slidesToShow: 3,\r\n      slidesToScroll: 1,\r\n      asNavFor: '.preaching-slider-main',\r\n      focusOnSelect: true,\r\n      slidesToShow: 3,\r\n      arrows: false,\r\n      centerMode: true,\r\n      slidesToShow: 3,\r\n      responsive: [\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: 2,\r\n          },\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: 2,\r\n          },\r\n        },\r\n        {\r\n          breakpoint: 577,\r\n          settings: {\r\n            slidesToShow: 1,\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  if ($preaching_sliderMain.length) {\r\n    $preaching_sliderMain.slick({\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n      fade: true,\r\n      asNavFor: '.preaching-slider',\r\n      arrows: false,\r\n    });\r\n\r\n    $('.preaching-prev').click(function (e) {\r\n      $preaching_sliderMain.slick('slickPrev');\r\n    });\r\n\r\n    $('.preaching-next').click(function (e) {\r\n      $preaching_sliderMain.slick('slickNext');\r\n    });\r\n  }\r\n\r\n  // Аккардеон \"Ответ - вопрос\"\r\n  if ($('.answers-info__close').length) {\r\n    $(document).on('click', '.answers-info__close', function (e) {\r\n      e.preventDefault();\r\n      $(this).parent().find('.answers-info__answer').slideToggle('slow');\r\n      $(this).find('svg').toggleClass('active');\r\n    });\r\n  }\r\n\r\n  // Меню Гамбургер, меню мобильная версия\r\n  $('.humburger').on('click', function (e) {\r\n    e.preventDefault;\r\n    $(this).toggleClass('mh_active');\r\n    $('.menu-open').toggleClass('menu-show');\r\n    $('body').toggleClass('hidden');\r\n  });\r\n  $('.mobileMenu li a').click(function (e) {\r\n    $('.humburger').removeClass('mh_active');\r\n    $('.menu-open').removeClass('menu-show');\r\n    $('body').removeClass('hidden');\r\n  });\r\n\r\n  // AJAX подгрузка ответ вопрос\r\n  if ($('.load-more').length) {\r\n    var loading = false;\r\n\r\n    $('.load-more').on('click', function (e) {\r\n      e.preventDefault();\r\n      var $offset = $(this).data('offset');\r\n      if (!loading) {\r\n        loading = true;\r\n        var data = {\r\n          action: 'dmz_ajax_load_more',\r\n          nonce: dmzloadmore.nonce,\r\n          offset: $offset,\r\n          beforeSend: function (xhr) {\r\n            $('.load-more span').text('Загрузка...');\r\n          },\r\n        };\r\n\r\n        $.post(dmzloadmore.ajaxurl, data, function (res) {\r\n          if (res.success) {\r\n            $('.load-more span').text('еще...');\r\n            var $content = $(res.data);\r\n\r\n            $('.answers-item').append($content);\r\n            $('.load-more').data('offset', parseInt($offset + 3));\r\n\r\n            var num_one = $('.load-more').data('posts');\r\n\r\n            if (num_one <= $offset + 3) {\r\n              $('.load-more').remove();\r\n            }\r\n\r\n            loading = false;\r\n          } else {\r\n            //console.log(res);\r\n          }\r\n        }).fail(function (xhr, textStatus, e) {\r\n          //console.log(xhr.responseText);\r\n        });\r\n      }\r\n    });\r\n\r\n    $(document).ready(function () {\r\n      var num_one = $('.load-more').data('offset');\r\n      var num_two = $('.load-more').data('posts');\r\n\r\n      if (num_one >= num_two) {\r\n        $('.load-more').remove();\r\n      }\r\n    });\r\n  }\r\n\r\n  //Отправка формы\r\n  if ($('.abbot-form').length) {\r\n    $('.abbot-form').on('submit', function (e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    $.validator.addMethod(\r\n      'regex',\r\n      function (value, element, regexp) {\r\n        var re = new RegExp(regexp);\r\n        return this.optional(element) || re.test(value);\r\n      },\r\n      'Please check your input.',\r\n    );\r\n\r\n    // Проверка на валидацию формы\r\n    function valEl(el) {\r\n      el.validate({\r\n        rules: {\r\n          name: {\r\n            required: true,\r\n            regex: '^[A-Za-zА-Яа-яЁё\\x20]{2,20}$',\r\n          },\r\n          email: {\r\n            required: false,\r\n            email: true,\r\n          },\r\n        },\r\n        messages: {\r\n          name: {\r\n            required: 'Поле обязательно для заполнения',\r\n            regex: 'Введите имя правильно',\r\n          },\r\n          email: {\r\n            required: false,\r\n            email: 'Введите e-mail правильно',\r\n          },\r\n        },\r\n\r\n        // Начинаем проверку id=\"\" формы\r\n        submitHandler: function (form) {\r\n          var $form = $(form);\r\n          var $formId = $form.attr('id');\r\n          var response = grecaptcha.getResponse();\r\n\r\n          //Функция google recapcha\r\n          if (response.length == 0) {\r\n            $('.abbot-form .error-re').fadeIn();\r\n            return false;\r\n          } else {\r\n            if ($formId == 'abbot-form') {\r\n              $('.abbot-form .error-re').hide();\r\n              $('.abbot-form .loader').fadeIn();\r\n            }\r\n\r\n            switch ($formId) {\r\n              case 'abbot-form':\r\n                var data = $form.serialize();\r\n\r\n                $.post(window.dmz_ajax.ajaxurl + '?action=homeanswer', data, 'json').always(\r\n                  function () {\r\n                    $('.abbot-form .loader').fadeOut();\r\n                    setTimeout(function () {\r\n                      $('.abbot-form .tnx').fadeIn();\r\n                      //строки для остлеживания целей в Я.Метрике и Google Analytics\r\n                    }, 500);\r\n                    setTimeout(function () {\r\n                      $('.abbot-form .tnx').fadeOut();\r\n                    }, 3000);\r\n                    $form.trigger('reset');\r\n                  },\r\n                );\r\n\r\n                break;\r\n            }\r\n\r\n            grecaptcha.reset();\r\n\r\n            return false;\r\n          }\r\n        },\r\n      });\r\n    }\r\n\r\n    // Запускаем механизм валидации форм\r\n    $('.abbot-form').each(function () {\r\n      valEl($(this));\r\n    });\r\n  }\r\n\r\n  //Расписание богослужений табы\r\n  var tab = $('.schedule-item-wrap .schedule-item-calendar');\r\n  tab.hide().filter(':first').show();\r\n\r\n  // Клики по вкладкам.\r\n  $('.the-date').on('click', function (e) {\r\n    e.preventDefault;\r\n    tab.hide();\r\n    tab.filter(this.hash).show();\r\n    $('.the-date').removeClass('active');\r\n    $(this).addClass('active');\r\n    return false;\r\n  });\r\n\r\n  //Слово настоятеля табы главная\r\n  var tab_word = $('.word-item-wrapper .word-item');\r\n  tab_word.hide().filter(':first').show();\r\n\r\n  // Клики по вкладкам.\r\n  $('.word').on('click', function (e) {\r\n    e.preventDefault();\r\n    tab_word.hide();\r\n    tab_word.filter(this.hash).show();\r\n    $('.preaching-slider').slick('refresh');\r\n    $('.word').removeClass('active');\r\n    $(this).addClass('active');\r\n    return false;\r\n  });\r\n\r\n  //Слово настоятеля табы страница архива\r\n  var tab_preaching = $('.preaching-items-wrapper .preaching-items');\r\n  tab_preaching.hide().filter(':first').show();\r\n\r\n  // Клики по вкладкам.\r\n  $('.preaching-link').on('click', function (e) {\r\n    e.preventDefault;\r\n    tab_preaching.hide();\r\n    tab_preaching.filter(this.hash).show();\r\n    $('.preaching-link').removeClass('active');\r\n    $(this).addClass('active');\r\n    return false;\r\n  });\r\n\r\n  //Священослужители ТАБЫ\r\n  var tab_priests = $('.category-priests-tabs .priests-wrapper');\r\n  tab_priests.hide().filter(':first').show();\r\n\r\n  // Клики по вкладкам.\r\n  $('.category-link').on('click', function (e) {\r\n    e.preventDefault;\r\n    tab_priests.hide();\r\n    tab_priests.filter(this.hash).show();\r\n    $('.category-link').removeClass('active');\r\n    $(this).addClass('active');\r\n    return false;\r\n  });\r\n\r\n  $('.not-active-link').on('click', function () {\r\n    return false;\r\n  });\r\n});\r\n\n\n//# sourceURL=webpack://hram-kirilla-mefodia/./assets/js/main.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./assets/js/main.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;